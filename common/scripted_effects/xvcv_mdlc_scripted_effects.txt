xvcv_mdlc_leader_tied_traits_add_effect = {
	every_owned_leader = {
		limit = {
			species = { has_trait = xvcv_mdlc_trait_shared_memory }
			NOR = {
				leader_class = ruler
				has_trait = xvcv_mdlc_leader_trait_shared_memory
			}
		}
		add_trait = xvcv_mdlc_leader_trait_shared_memory
	}
	every_pool_leader = {
		limit = {
			species = { has_trait = xvcv_mdlc_trait_shared_memory }
			NOR = {
				leader_class = ruler
				has_trait = xvcv_mdlc_leader_trait_shared_memory
			}
		}
		add_trait = xvcv_mdlc_leader_trait_shared_memory
	}
	every_owned_leader = {
		limit = {
			species = { has_trait = xvcv_mdlc_trait_memory_backup }
			NOR = {
				leader_class = ruler
				has_trait = xvcv_mdlc_leader_trait_memory_backup
			}
		}
		add_trait = xvcv_mdlc_leader_trait_memory_backup
	}
	every_pool_leader = {
		limit = {
			species = { has_trait = xvcv_mdlc_trait_memory_backup }
			NOR = {
				leader_class = ruler
				has_trait = xvcv_mdlc_leader_trait_memory_backup
			}
		}
		add_trait = xvcv_mdlc_leader_trait_memory_backup
	}
	every_owned_leader = {
		limit = {
			species = { has_trait = xvcv_mdlc_trait_abyss_psi_emulator }
			NOR = {
				has_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_admiral
				has_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_scientist
				has_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_general
				has_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_governor
			}
		}
		switch = {
			trigger = leader_class
			admiral = { add_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_admiral }
			scientist = { add_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_scientist }
			general = { add_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_general }
			governor = { add_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_governor }
		}
	}
	every_pool_leader = {
		limit = {
			species = { has_trait = xvcv_mdlc_trait_abyss_psi_emulator }
			NOR = {
				has_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_admiral
				has_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_scientist
				has_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_general
				has_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_governor
			}
		}
		switch = {
			trigger = leader_class
			admiral = { add_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_admiral }
			scientist = { add_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_scientist }
			general = { add_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_general }
			governor = { add_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_governor }
		}
	}
	every_owned_leader = {
		limit = {
			species = { has_trait = xvcv_mdlc_trait_bio_robot }
			NOR = {
				has_trait = xvcv_mdlc_leader_trait_bio_robot_admiral
				has_trait = xvcv_mdlc_leader_trait_bio_robot_scientist
				has_trait = xvcv_mdlc_leader_trait_bio_robot_general
				has_trait = xvcv_mdlc_leader_trait_bio_robot_governor
			}
		}
		switch = {
			trigger = leader_class
			admiral = { add_trait = xvcv_mdlc_leader_trait_bio_robot_admiral }
			scientist = { add_trait = xvcv_mdlc_leader_trait_bio_robot_scientist }
			general = { add_trait = xvcv_mdlc_leader_trait_bio_robot_general }
			governor = { add_trait = xvcv_mdlc_leader_trait_bio_robot_governor }
		}
	}
	every_pool_leader = {
		limit = {
			species = { has_trait = xvcv_mdlc_trait_bio_robot }
			NOR = {
				has_trait = xvcv_mdlc_leader_trait_bio_robot_admiral
				has_trait = xvcv_mdlc_leader_trait_bio_robot_scientist
				has_trait = xvcv_mdlc_leader_trait_bio_robot_general
				has_trait = xvcv_mdlc_leader_trait_bio_robot_governor
			}
		}
		switch = {
			trigger = leader_class
			admiral = { add_trait = xvcv_mdlc_leader_trait_bio_robot_admiral }
			scientist = { add_trait = xvcv_mdlc_leader_trait_bio_robot_scientist }
			general = { add_trait = xvcv_mdlc_leader_trait_bio_robot_general }
			governor = { add_trait = xvcv_mdlc_leader_trait_bio_robot_governor }
		}
	}
}
xvcv_mdlc_leader_tied_traits_remove_effect = {
	every_owned_leader = {
		limit = {
			NOR = {
				species = { has_trait = xvcv_mdlc_trait_shared_memory }
				has_leader_flag = xvcv_mdlc_leader_making_target_leader
			}
			has_trait = xvcv_mdlc_leader_trait_shared_memory
		}
		remove_trait = xvcv_mdlc_leader_trait_shared_memory
	}
	every_pool_leader = {
		limit = {
			species = { NOT = { has_trait = xvcv_mdlc_trait_shared_memory } }
			has_trait = xvcv_mdlc_leader_trait_shared_memory
		}
		remove_trait = xvcv_mdlc_leader_trait_shared_memory
	}
	every_owned_leader = {
		limit = {
			NOR = {
				species = { has_trait = xvcv_mdlc_trait_memory_backup }
				has_leader_flag = xvcv_mdlc_leader_making_target_leader
			}
			has_trait = xvcv_mdlc_leader_trait_memory_backup
		}
		remove_trait = xvcv_mdlc_leader_trait_memory_backup
	}
	every_pool_leader = {
		limit = {
			species = { NOT = { has_trait = xvcv_mdlc_trait_memory_backup } }
			has_trait = xvcv_mdlc_leader_trait_memory_backup
		}
		remove_trait = xvcv_mdlc_leader_trait_memory_backup
	}
	every_owned_leader = {
		limit = {
			species = { NOT = { has_trait = xvcv_mdlc_trait_abyss_psi_emulator } }
			OR = {
				has_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_admiral
				has_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_scientist
				has_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_general
				has_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_governor
			}
		}
		switch = {
			trigger = leader_class
			admiral = { remove_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_admiral }
			scientist = { remove_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_scientist }
			general = { remove_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_general }
			governor = { remove_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_governor }
		}
	}
	every_pool_leader = {
		limit = {
			species = { NOT = { has_trait = xvcv_mdlc_trait_abyss_psi_emulator } }
			OR = {
				has_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_admiral
				has_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_scientist
				has_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_general
				has_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_governor
			}
		}
		switch = {
			trigger = leader_class
			admiral = { remove_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_admiral }
			scientist = { remove_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_scientist }
			general = { remove_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_general }
			governor = { remove_trait = xvcv_mdlc_leader_trait_abyss_psi_emulator_governor }
		}
	}
	every_owned_leader = {
		limit = {
			#usually the bio robot trait will remain under most circumstances but just in case...
			species = { NOT = { has_trait = xvcv_mdlc_trait_bio_robot } }
			OR = {
				has_trait = xvcv_mdlc_leader_trait_bio_robot_admiral
				has_trait = xvcv_mdlc_leader_trait_bio_robot_scientist
				has_trait = xvcv_mdlc_leader_trait_bio_robot_general
				has_trait = xvcv_mdlc_leader_trait_bio_robot_governor
			}
		}
		switch = {
			trigger = leader_class
			admiral = { remove_trait = xvcv_mdlc_leader_trait_bio_robot_admiral }
			scientist = { remove_trait = xvcv_mdlc_leader_trait_bio_robot_scientist }
			general = { remove_trait = xvcv_mdlc_leader_trait_bio_robot_general }
			governor = { remove_trait = xvcv_mdlc_leader_trait_bio_robot_governor }
		}
	}
	every_pool_leader = {
		limit = {
			species = { NOT = { has_trait = xvcv_mdlc_trait_bio_robot } }
			OR = {
				has_trait = xvcv_mdlc_leader_trait_bio_robot_admiral
				has_trait = xvcv_mdlc_leader_trait_bio_robot_scientist
				has_trait = xvcv_mdlc_leader_trait_bio_robot_general
				has_trait = xvcv_mdlc_leader_trait_bio_robot_governor
			}
		}
		switch = {
			trigger = leader_class
			admiral = { remove_trait = xvcv_mdlc_leader_trait_bio_robot_admiral }
			scientist = { remove_trait = xvcv_mdlc_leader_trait_bio_robot_scientist }
			general = { remove_trait = xvcv_mdlc_leader_trait_bio_robot_general }
			governor = { remove_trait = xvcv_mdlc_leader_trait_bio_robot_governor }
		}
	}
}